---
title: "次期エンココーデックの比較研究"
date: 2019-05-26T20:30:06+09:00
draft: false
---

いきなり本題
<!--more-->

# H.264/aac
いつものエンコで使うやつ。
まあ今回は「次期」と銘打ってしまったので退場させてもよいが、続投するという意味で載せさせていただいた。
利点と欠点をまとめると以下のような感じである

## 利点
- （割と)枯れた技術である

定番中の定番として使われ続けたので、x264は扱いやすく、ドキュメントも豊富である。
また高速化もだいぶ効いている

- 再生デバイスが豊富

けーたいやそれに代表されるデバイスで再生しようとしてできないということはまずないだろう
mkvコンテナなどを使えば互換性問題は少し発生するかもしれないが、mp4コンテナならまずないと言い切っていい。

## 欠点
- ファイルサイズが大きい
 
やはり後発規格と比べるとしょうがないといえばしょうがない点ではある。
 30分アニメでまともなエンコをすれば600MBとかそんなもんだろうか(1080p)、
いつもcrf19とかで回しているので気にしてないといえばそうなのではあるが。

- **おもしろくない**

だってみんな使っちゃってるんだもん...

#H.265/aac
世の中ではHEVCとか言われているやつ。

4K/8K放送(ARIB STD-B62)もこれ。
H.264後継の大本命である。

## 利点
- ファイルサイズ削減効果

やはりH.264と比べれば少ないファイルサイズでいい感じの画質を持ってこれる。
まあMPEG2を元とするあたりでどれだけ頑張っても微妙なところはあるかもしれないが

- 「次世代」技術ということ

みなさんもDivxでエンコをしてしまった地上アナログソースエンコの山を見て絶望したことはないだろうか？
私はないが(アナログ放送が終わった頃私はまだ小学生である)、古い規格というものはあとから見れば見劣りするもので、だからこそ今のうちから新規格に移行しといてすこしでもそのがっかりを削減しようというものである。

## 欠点
- エンコード速度の遅さ

とにかくこれは遅い。
うちのCPU(Intel Corei5 4590)でx265を回したときの速度が**Core2Duoでx264を回したとき**と変わらないといえばわかってくれるだろうか。

幸いなことにエンコード作業は高度に並列化された処理のため、RyzenなどのメニーコアCPUが活躍できるのでそこはどうにかといった具合だろう

# VP9/opus
おそらくこの文字列を見たときに読者の頭に浮かぶのは"YouTube"という文字だろう。
コンテナはwebmが主に利用されている
VP8はあまり普及しなかったがVP9は、<s>主にGoogleのゴリ押し</s>のおかげで割と普及しているように感じる。<s>(あくまでも個人の感想です)</s>

ここで一つ問題になるのは、**筆者がこれをエンコに使用したことがない**ということだけである。
一つにして大きな問題だとは思うが仕方ない。

ドキュメントを読む限りはH.265と特性は似ているようである。
Opusが使えるというのもだいぶ大きなポイントにはなりそうである。

<s>(mp4やmkvでH.264/Opusなんて構成ができるかは分からない)</s>どうやらできるらしいので、あまりアドバンテージとはいえなさそう？

# av1
こちらはH.265の更に先を行く今イケイケのコーデックである。

これに関してのコメントはこの一言で済ましても私が非難されることはないだろう

#### 「時期尚早」
ちょっとこれを実用化するにはまだ早すぎる段階と言っていい。
状況を見る限り2020年代にはこのコーデックが席巻することはほぼ間違いなしだが（実際VP9の後継規格VP10などはこれに統合されていった)、今から使う必要はないし、ろくに使えないといったところであろう。

またこんなのも出てくるわで混沌とした状態であることは確かである。

[http://sisvel.com/news-events/news/sisvel-announces-the-launch-of-its-video-coding-licensing-platform:embed:cite]


これに関してはAOmedia側からの反論もあるが

[https://aomedia.org/the-alliance-for-open-media-statement/:embed:cite]

まあこれに触れるにはこの記事の余白は短すぎるのでまた別の話としよう。

# 余談

[https://twitter.com/huruya2100/status/1132588711374233600:embed#MarkDownでブログが書きたい令和元年]

今回はこれがやりたかったから書いたもので、
最近は授業ノートもMarkdownで書いているので割と親しんでおこう！という企画でもあった。
Livedoorのほうとこれとどうなるかは分からないが、まあごゆるりとお付き合いいただけると幸いである。